.PHONY: help setup-dev setup-prod validate-env db-init db-migrate db-migrate-create db-migrate-revert db-reset db-backup db-restore db-init-prod db-migrate-prod db-recreate-prod db-backup-prod db-restore-prod dev dev-hot prod build test db-gen db-migrate-status db-hash release release-dry-run snapshot

help:
	@echo "GiraffeCloud Makefile Commands"
	@echo ""
	@echo "Environment Setup:"
	@echo "  setup-dev     - Set up development environment file"
	@echo "  setup-prod    - Set up production environment file"
	@echo ""
	@echo "Database Development:"
	@echo "  db-gen                Generate Ent code"
	@echo "  db-init               Initialize development database"
	@echo "  db-reset             Reset development database (requires FORCE=1)"
	@echo "  db-migrate-create    Create a new migration (requires NAME=migration_name)"
	@echo "  db-migrate-apply     Apply pending migrations"
	@echo "  db-migrate-status    Show migration status"
	@echo "  db-migrate-revert    Revert last migration (requires FORCE=1 N=number)"
	@echo "  db-backup            Backup development database"
	@echo "  db-restore          Restore development database from backup (requires BACKUP=path)"
	@echo "  db-hash             Generate hash for migrations"
	@echo ""
	@echo "Database Production (use with caution):"
	@echo "  db-init-prod             - Initialize production database"
	@echo "  db-migrate-prod FORCE=1   - Apply migrations to production (dry-run)"
	@echo "  db-migrate-prod FORCE=1 CONFIRM=1 - Apply migrations to production"
	@echo "  db-recreate-prod FORCE=1  - Recreate production database"
	@echo "  db-backup-prod            - Backup production database"
	@echo "  db-restore-prod BACKUP=path FORCE=1 - Restore production database"
	@echo ""
	@echo "Server:"
	@echo "  dev          - Run development server"
	@echo "  dev-hot      - Run development server with hot-reload"
	@echo "  prod         - Run production server"
	@echo "  build        - Build application binary"
	@echo "  test         - Run tests"
	@echo ""
	@echo "Release Management:"
	@echo "  release-dry-run  - Test the release process without publishing"
	@echo "  release         - Create and publish a new release"
	@echo "  snapshot        - Create a snapshot release for testing"